From a6a44b6a8f8a6af9d1cef3efaae9331e24257572 Mon Sep 17 00:00:00 2001
From: YAMAMOTO Masaya <pandax381@gmail.com>
Date: Fri, 14 Jul 2017 14:47:00 +0900
Subject: [PATCH 7/8] Remove unnecessary parameter compare

---
 keepalived/check/check_dns.c  | 2 --
 keepalived/check/check_http.c | 4 ----
 keepalived/check/check_misc.c | 6 ------
 keepalived/check/check_smtp.c | 4 ----
 keepalived/check/check_tcp.c  | 4 ----
 5 files changed, 20 deletions(-)

diff --git a/keepalived/check/check_dns.c b/keepalived/check/check_dns.c
index 603742a4..671062bf 100644
--- a/keepalived/check/check_dns.c
+++ b/keepalived/check/check_dns.c
@@ -396,8 +396,6 @@ dns_check_compare(void *a, void *b)
 
 	if (!compare_conn_opts(CHECKER_CO(a), CHECKER_CO(b)))
 		return false;
-	if (old->retry != new->retry)
-		return false;
 	if (strcmp(old->type, new->type) != 0)
 		return false;
 	if (strcmp(old->name, new->name) != 0)
diff --git a/keepalived/check/check_http.c b/keepalived/check/check_http.c
index 1ad395cf..2802d6f5 100644
--- a/keepalived/check/check_http.c
+++ b/keepalived/check/check_http.c
@@ -133,10 +133,6 @@ http_get_check_compare(void *a, void *b)
 
 	if (!compare_conn_opts(CHECKER_CO(a), CHECKER_CO(b)))
 		return false;
-	if (old->nb_get_retry != new->nb_get_retry)
-		return false;
-	if (old->delay_before_retry != new->delay_before_retry)
-		return false;
 	if (LIST_SIZE(old->url) != LIST_SIZE(new->url))
 		return false;
 	for (n = 0; n < LIST_SIZE(new->url); n++) {
diff --git a/keepalived/check/check_misc.c b/keepalived/check/check_misc.c
index f1f66955..0cc649b6 100644
--- a/keepalived/check/check_misc.c
+++ b/keepalived/check/check_misc.c
@@ -80,12 +80,6 @@ misc_check_compare(void *a, void *b)
 
 	if (strcmp(old->path, new->path) != 0)
 		return false;
-	if (old->timeout != new->timeout)
-		return false;
-	if (old->dynamic != new->dynamic)
-		return false;
-	if (old->uid != new->uid || new->gid != new->gid)
-		return false;
 
 	return true;
 }
diff --git a/keepalived/check/check_smtp.c b/keepalived/check/check_smtp.c
index 44d15e01..c135258f 100644
--- a/keepalived/check/check_smtp.c
+++ b/keepalived/check/check_smtp.c
@@ -92,10 +92,6 @@ smtp_check_compare(void *a, void *b)
 
 	if (strcmp(old->helo_name, new->helo_name) != 0)
 		return false;
-	if (old->retry != new->retry)
-		return false;
-	if (old->db_retry != new->db_retry)
-		return false;
 	if (!compare_conn_opts(CHECKER_CO(a), CHECKER_CO(b)))
 		return false;
 	if (LIST_SIZE(old->host) != LIST_SIZE(new->host))
diff --git a/keepalived/check/check_tcp.c b/keepalived/check/check_tcp.c
index 1858f5fc..7afed022 100644
--- a/keepalived/check/check_tcp.c
+++ b/keepalived/check/check_tcp.c
@@ -70,10 +70,6 @@ tcp_check_compare(void *a, void *b)
 
 	if (!compare_conn_opts(CHECKER_CO(a), CHECKER_CO(b)))
 		return false;
-	if (old->n_retry != new->n_retry)
-		return false;
-	if (old->delay_before_retry != new->delay_before_retry)
-		return false;
 
 	return true;
 }
-- 
2.20.1

